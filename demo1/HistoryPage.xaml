<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="demo1.HistoryPage"
             Title="工资历史"
             BackgroundColor="#f5f5f5">

    <VerticalStackLayout Spacing="20" Padding="20">
        <!-- 标签切换 -->
        <HorizontalStackLayout HorizontalOptions="Center" Spacing="10">
            <Button x:Name="TodayButton" 
                    Text="今日记录" 
                    Clicked="OnTodayClicked"
                    BackgroundColor="#4caf50"
                    TextColor="White"/>
            <Button x:Name="MonthButton" 
                    Text="本月记录" 
                    Clicked="OnMonthClicked"
                    BackgroundColor="#9e9e9e"
                    TextColor="White"/>
            <Button x:Name="AllButton" 
                    Text="所有记录" 
                    Clicked="OnAllClicked"
                    BackgroundColor="#9e9e9e"
                    TextColor="White"/>
        </HorizontalStackLayout>

        <!-- 统计显示 -->
        <Border Stroke="#e0e0e0" StrokeThickness="1" StrokeShape="RoundRectangle 10,10,10,10" Padding="15" 
               BackgroundColor="White">
            <Border.Shadow>
                <Shadow Brush="#22000000" Offset="0,2" Radius="6" Opacity="0.5" />
            </Border.Shadow>
            <VerticalStackLayout>
                <Label x:Name="CurrentViewLabel" 
                       Text="今日记录" 
                       FontSize="20" 
                       HorizontalOptions="Center"
                       Margin="0,0,0,10"/>
                <Label x:Name="TotalLabel" 
                       Text="总计: 0.00元" 
                       FontSize="18" 
                       HorizontalOptions="Center"/>
            </VerticalStackLayout>
        </Border>

        <!-- 记录列表 -->
        <Border Stroke="#e0e0e0" StrokeThickness="1" StrokeShape="RoundRectangle 10,10,10,10" Padding="5" 
              BackgroundColor="White" HeightRequest="400">
            <Border.Shadow>
                <Shadow Brush="#22000000" Offset="0,2" Radius="6" Opacity="0.5" />
            </Border.Shadow>
            <CollectionView x:Name="RecordsCollection">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border Margin="5" Padding="10" Stroke="#eeeeee" StrokeThickness="1" 
                                BackgroundColor="White" StrokeShape="RoundRectangle 5,5,5,5">
                            <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto,Auto">
                                <Label Grid.Row="0" Grid.Column="0" Text="{Binding Date, StringFormat='{0:yyyy-MM-dd HH:mm}'}" FontSize="16" TextColor="#333333"/>
                                <Label Grid.Row="0" Grid.Column="1" Text="{Binding DailyWage, StringFormat='{0:F2}元'}" FontSize="18" FontAttributes="Bold" TextColor="#4caf50"/>

                                <Label Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="{Binding ProductCount, StringFormat='产品数量: {0}件'}" FontSize="14" TextColor="#757575"/>
                                <Label Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Text="{Binding Rate, StringFormat='费率: {0:F2}元/件'}" FontSize="14" TextColor="#757575"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Border>
    </VerticalStackLayout>
</ContentPage>